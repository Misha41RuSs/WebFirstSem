# üìä –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–∏—Å—Ç–µ–º–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

## üéØ –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ —Ç–µ–ø–µ—Ä—å **—Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω–æ. –í—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤, –ø—Ä–æ–≥—Ä–µ—Å—Å –∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

## üîÑ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å?

### ‚ùå –ë—ã–ª–æ (LocalStorage):
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏–ª–∞—Å—å –ª–æ–∫–∞–ª—å–Ω–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- –î–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –∫—ç—à–∞
- –ù–µ–ª—å–∑—è –±—ã–ª–æ –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø —Å –¥—Ä—É–≥–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

### ‚úÖ –°—Ç–∞–ª–æ (Server-side):
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ—Å–ª–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- –ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

## üì° API Endpoints

### 1. –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```
GET /api/user/statistics
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "totalTests": 5,
  "totalQuestions": 50,
  "correctAnswers": 42,
  "accuracy": 84.0
}
```

### 2. –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Å—Ç–æ–≤
```
GET /api/user/statistics/history
Authorization: Bearer <token>
```

**–û—Ç–≤–µ—Ç:**
```json
[
  {
    "id": 1,
    "testName": "–û–±—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã",
    "score": 8,
    "totalQuestions": 10,
    "percentage": 80,
    "completedAt": "2025-10-28T10:30:00"
  },
  ...
]
```

### 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞
```
POST /api/user/statistics/submit
Authorization: Bearer <token>
Content-Type: application/json

{
  "testName": "–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ",
  "score": 9,
  "totalQuestions": 10,
  "correctAnswers": 9
}
```

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `users`
```sql
id          BIGSERIAL PRIMARY KEY
username    VARCHAR(50) UNIQUE NOT NULL
email       VARCHAR(100) UNIQUE NOT NULL
password    VARCHAR(255) NOT NULL
created_at  TIMESTAMP
updated_at  TIMESTAMP
```

### –¢–∞–±–ª–∏—Ü–∞ `user_statistics`
```sql
id                 BIGSERIAL PRIMARY KEY
user_id            BIGINT FOREIGN KEY
total_tests        INTEGER DEFAULT 0
total_questions    INTEGER DEFAULT 0
correct_answers    INTEGER DEFAULT 0
created_at         TIMESTAMP
updated_at         TIMESTAMP
```

### –¢–∞–±–ª–∏—Ü–∞ `test_results`
```sql
id               BIGSERIAL PRIMARY KEY
user_id          BIGINT FOREIGN KEY
test_name        VARCHAR(100) NOT NULL
score            INTEGER NOT NULL
total_questions  INTEGER NOT NULL
percentage       INTEGER NOT NULL
completed_at     TIMESTAMP
```

## üöÄ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

### 1. –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ç–µ—Å—Ç
handleQuizComplete(score, totalQuestions, correctAnswers)
  ‚Üì
// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
StatisticsService.submitTestResult(testName, score, totalQuestions, correctAnswers)
  ‚Üì
// –°–µ—Ä–≤–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ test_results
// –°–µ—Ä–≤–µ—Ä –æ–±–Ω–æ–≤–ª—è–µ—Ç user_statistics
```

### 2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```javascript
// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –≤–∫–ª–∞–¥–∫–∏ "–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤"
StatisticsService.getUserStatistics()
  ‚Üì
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ–±—â–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (—Ç–µ—Å—Ç—ã, –≤–æ–ø—Ä–æ—Å—ã, —Ç–æ—á–Ω–æ—Å—Ç—å)

StatisticsService.getTestHistory()
  ‚Üì
// –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 10 —Ç–µ—Å—Ç–æ–≤
```

## üéÆ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- üéØ **–ü—Ä–æ–π–¥–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- ‚ùì **–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤** - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—á–µ–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- üìà **–¢–æ—á–Ω–æ—Å—Ç—å** - –ø—Ä–æ—Ü–µ–Ω—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤

### –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è
- üéØ **–ü–µ—Ä–≤—ã–π —Ç–µ—Å—Ç** - –ü—Ä–æ–π—Ç–∏ –ø–µ—Ä–≤—ã–π —Ç–µ—Å—Ç
- üèÜ **–û—Ç–ª–∏—á–Ω–∏–∫** - 80%+ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- üí™ **–ù–∞—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å** - –ü—Ä–æ–π—Ç–∏ 5 —Ç–µ—Å—Ç–æ–≤
- üéì **–≠–∫—Å–ø–µ—Ä—Ç** - –ü—Ä–æ–π—Ç–∏ 10 —Ç–µ—Å—Ç–æ–≤
- ‚≠ê **–ü–µ—Ä—Ñ–µ–∫—Ü–∏–æ–Ω–∏—Å—Ç** - 100% –≤ –ª—é–±–æ–º —Ç–µ—Å—Ç–µ

### –ò—Å—Ç–æ—Ä–∏—è —Ç–µ—Å—Ç–æ–≤
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞, –ø—Ä–æ—Ü–µ–Ω—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –¥–∞—Ç–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ –¥–∞—Ç–µ (–Ω–æ–≤—ã–µ —Å–≤–µ—Ä—Ö—É)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Frontend (React)
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** `Statistics` –≤ `src/components/Interactive.jsx`
- **–°–µ—Ä–≤–∏—Å:** `src/services/statistics.js`
- **–°—Ç–∏–ª–∏:** `styles/interactive.css`

### Backend (Spring Boot)
- **Controller:** `StatisticsController.java`
- **Service:** `StatisticsService.java`
- **Entities:** `UserStatistics.java`, `TestResult.java`
- **Repositories:** `UserStatisticsRepository.java`, `TestResultRepository.java`

## üìù –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```javascript
// –í–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–¥–µ (Interactive.jsx)

// –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
const loadStatistics = async () => {
    try {
        const data = await window.StatisticsService.getUserStatistics();
        setStats(data);
    } catch (err) {
        console.error('Failed to load statistics:', err);
    }
};

// –û—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ —Ç–µ—Å—Ç–∞
const handleQuizComplete = async (score, totalQuestions, correctAnswers) => {
    try {
        await window.StatisticsService.submitTestResult(
            testName,
            score,
            totalQuestions,
            correctAnswers
        );
    } catch (error) {
        console.error('Failed to submit test result:', error);
    }
};
```

## üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç JWT —Ç–æ–∫–µ–Ω
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤–∏–¥–µ—Ç—å —Ç–æ–ª—å–∫–æ —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è frontend/backend

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∞—Ü–∏—è** - –∫–∞–∂–¥—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç —Ç–æ–ª—å–∫–æ —Å–≤–æ—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è –ø—Ä–∏ –æ—á–∏—Å—Ç–∫–µ –±—Ä–∞—É–∑–µ—Ä–∞
3. **–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Å –ª—é–±–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
4. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
5. **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## üéâ –ì–æ—Ç–æ–≤–æ!

–¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è!

